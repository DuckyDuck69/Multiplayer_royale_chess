<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <!--<meta name="viewport" content="width=device-width, initial-scale=1.0">-->
        <!--<meta http-equiv="X-UA-Compatible" content="ie=edge">-->
        <title>Chess Royale</title>
        <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Uncial+Antiqua&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="index.css">
    </head>
    <body>
        <div class="bg-image"></div>
        <div class = 'game-container'   >
            <div class = "header">
                <h1>Welcome to the fantasy world</h1>
                <div class="subtitle">A Fantasy Chess Adventure</div>
            </div>
            <div id = "zoomButtons">
                <button id="zoomIn">+</button>
                <button id="zoomOut">-</button>
            </div>
            <div id="chessContainer">
                <canvas id="chessBoard"></canvas>
            </div>
            <div id="buttonContainer">
                <button id="tutorialButton">Tutorial</button>
            </div>
            <div id="guideButtonContainer">
                <button id="guideButton">Game Guide</button>
            </div>
            <div class = "upgrade-menu">
                <h2>Upgrades Available</h2>
                <div class = "available-upgrades" id = "whitePiecesUpMenu"></div>
            </div>
            <div class = "upgrade-menu">
                <div class = "available-upgrades" id = "blackPiecesUpMenu"></div>
            </div>
        </div>

        <!-- Piece Tracking Menu -->
        <div class="info-box">
            <h2>Pieces (White)</h2>
            <div class="button-container" id="whitePiecesMenu"></div>
        </div>
        <div class="info-box">
            <h2>Pieces (Black)</h2>
            <div class="button-container" id="blackPiecesMenu"></div>
        </div>
        

        <!-- Game Guide Modal -->
        <div id="guideModal" class="modal">
            <div class="modal-content">
                <span class="close-button">&times;</span>
                <h1>Chess Royale Quick Reference</h1>
                
                <div class="info-box">
                    <h2>Fantasy Pieces</h2>
                    <div class="piece-info">
                        <div class="piece-card">
                            <h3>Pegasus</h3>
                            <div class="piece-images">
                                <img src="assets/textures/light_pegasus.png" alt="Light Pegasus">
                                <img src="assets/textures/dark_pegasus.png" alt="Dark Pegasus">
                            </div>
                            <p>Moves like a Knight but can jump over obstacles like walls. Excellent for navigating difficult terrain.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Gorgon</h3>
                            <div class="piece-images">
                                <img src="assets/textures/light_medusa.png" alt="Light Gorgon">
                                <img src="assets/textures/dark_medusa.png" alt="Dark Gorgon">
                            </div>
                            <p>Moves 2 squares diagonally or orthogonally. When it captures, all adjacent pieces are stunned for 2 turns!</p>
                        </div>
                        <div class="piece-card">
                            <h3>Chimera</h3>
                            <div class="piece-images">
                                <img src="assets/textures/dark_lion_chimera.png" alt="Dark Lion Chimera">
                                <img src="assets/textures/dark_goat_chimera.png" alt="Dark Goat Chimera">
                                <img src="assets/textures/light_goat_chimera.png" alt="Light Goat Chimera">
                                <img src="assets/textures/light_lion_chimera.png" alt="Light Lion Chimera">
                            </div>
                            <p>Lion: Combines Queen with Knight-like moves. Goat: Moves like Bishop (2 squares). Must alternate turns. Can capture pieces between them when fully stretched.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Juggernaut</h3>
                            <div class="piece-images">
                                <img src="assets/textures/light_juggernaut.png" alt="Light Juggernaut">
                                <img src="assets/textures/dark_juggernaut.png" alt="Dark Juggernaut">
                            </div>
                            <p>Can break through walls and move through mud without stopping.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Builder</h3>
                            <div class="piece-images">
                                <img src="assets/textures/dark_builder.png" alt="Dark Builder">
                                <img src="assets/textures/light_builder.png" alt="Light Builder">
                            </div>
                            <p>Can create and remove walls. Move the Builder, then click on an empty square to place a wall or on an existing wall to remove it.</p>
                        </div>
                    </div>

                    <h2>Traditional Chess Pieces</h2>
                    <div class="piece-info">
                        <div class="piece-card">
                            <h3>King</h3>
                            <p>Moves one square in any direction. If captured, you lose the game.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Queen</h3>
                            <p>Moves any number of squares diagonally, horizontally, or vertically.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Bishop</h3>
                            <p>Moves any number of squares diagonally.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Knight</h3>
                            <p>Moves in an L-shape: two squares in one direction, then one square perpendicular.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Rook</h3>
                            <p>Moves any number of squares horizontally or vertically.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Pawn</h3>
                            <p>Moves forward one square (or two on first move). Captures diagonally.</p>
                        </div>
                    </div>

                    <h2>Obstacles</h2>
                    <div class="piece-info">
                        <div class="piece-card">
                            <h3>Walls</h3>
                            <p>Block movement for most pieces. Only the Pegasus can jump over them, and the Juggernaut can break through them.</p>
                        </div>
                        <div class="piece-card">
                            <h3>Mud</h3>
                            <p>When a piece lands on mud, it must stop its movement. On the next turn, it can move normally. The Juggernaut can move through mud without stopping.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="image-credit">
            @Blue Turtle - Youtube
         </div>
         <div id="win-screen" style="display: none;" class="win-screen">
            <h1 id="winner-message"></h1>
            <button id="play-again-button">Play Again?</button>
        </div>
        <button id="win-screen-test">test</button>
        <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>
        <script src="index.js" type="module"></script>
    </body>
</html>